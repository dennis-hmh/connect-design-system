// @import "custom/grades/grade_45";
// @import "source/variables";
// @import "source/reset";
// @import "source/mixins";
// @import "source/_functions";
// @import "source/icons/icon-map";
// @import "source/_icons";

@import '../css/source.css';

// *,
// *:before,
// *:after {
//   transition: all 0.2s ease-in-out;
// }

/*! Variables and gradeband values */

:root {
  // --shadow-default: #{$shadow-default};
  // --shadow-hover: #{$shadow-hover};
  // --shadow-active: #{$shadow-active};
  // --shadow-default: 0;
  // --shadow-hover: 0;
  // --shadow-active: 0;
  // --shadow-pad: 0 0 0 0.125rem white;
  --shadow-outline: 0 0 0 0.0625rem rgba(0, 0, 0, 0.1);
  --shadow-flat: 0 0 0 0 rgba(0, 0, 0, 0), 0 0 0 0 rgba(0, 0, 0, 0), 0 0 0 0 rgba(0, 0, 0, 0);
  --shadow-default: 0 0.0625rem 0.5rem 0 rgba(0, 0, 0, 0.12),
    0 0.1875rem 0.25rem 0 rgba(0, 0, 0, 0.14), 0 0.1875rem 0.1875rem -0.125rem rgba(0, 0, 0, 0.2);
  --shadow-hover: 0 0.1875rem 0.875rem 0.125rem rgba(0, 0, 0, 0.12),
    0 0.5rem 0.625rem 0.0625rem rgba(0, 0, 0, 0.14),
    0 0.3125rem 0.3125rem -0.1875rem rgba(0, 0, 0, 0.2);
  --shadow-hover-button: 0 0.1875rem 0.1875rem -0.125rem rgba(0, 0, 0, 0.2),
    0 0.1875rem 0.25rem 0 rgba(0, 0, 0, 0.14), 0 0.0625rem 0.5rem 0 rgba(0, 0, 0, 0.12);
  --shadow-selected: 0 0 0 0.125rem var(--color-selected) inset;
  --shadow-correct: 0 0 0 0.125rem var(--color-correct) inset;
  --shadow-incorrect: 0 0 0 0.125rem var(--color-incorrect) inset;
  --shadow-selected-trans: 0 0 0 0.125rem rgba(0, 105, 254, 0) inset;
  --shadow-focus: 0 0.125rem 0 0.0625rem rgba(255, 46, 171, 1),
    0 0 0 0.0625rem rgba(255, 46, 171, 1), 0 0.0625rem 0 0.1875rem rgba(255, 255, 255, 1),
    0 0 0 0.125rem rgba(255, 255, 255, 1);
  --shadow-inner-gray: 0.1875rem 0.25rem 0.1875rem 0.0625rem rgba(0, 0, 0, 0.15) inset,
    0 0.1875rem 0.125rem 0 rgba(0, 0, 0, 0.3) inset;
  --shadow-inner-blue: 0.1875rem 0.25rem 0.1875rem 0.0625rem rgba(0, 105, 254, 0.15) inset,
    0 0.1875rem 0.125rem 0 rgba(0, 105, 254, 0.3) inset;
  --shadow-input-hover: 0 0.125rem 0.375rem 0.125rem rgba(0, 0, 0, 0.15),
    0 0.0625rem 0.125rem 0 rgba(0, 0, 0, 0.3);

  // --shadow-condensed: 0 .1875rem .125rem -.125rem rgba(0,0,0,0.3);
  // --shadow-diffused: 0 .1875rem .1875rem -.0625rem rgba(0,0,0,0.15);
  // --shadow-condensed-hover: 0 .1875rem .1875rem -.125rem rgba(0,0,0,0.3);
  // --shadow-diffused-hover: 0 .375rem .5rem .0625rem rgba(0,0,0,0.15);
  // --shadow-focus-stroke: 0 0 0 .0625rem rgba(255,46,171,1);
  // --shadow-focus-wedge: 0 .125rem 0 .0625rem rgba(255,46,171,1);
  // --shadow-focus-stroke-barrier: 0 0 0 .125rem white;
  // --shadow-focus-wedge-barrier: 0 .125rem 0 .125rem white;
  --color-action-default: var(--connect__blue-s50);
  --color-action-active: var(--connect__blue-c55);
  --color-action-disabled: var(--connect__gray-c10);
  --color-text-disabled: var(--connect__gray-c55);
  --color-action-bg: var(--connect__blue-c5);
  --color-selected: rgba(0, 105, 254, 1);
  //--color-correct-bg: var(--feedback-green-bg);
  //--color-incorrect-bg: var(--feedback-red-bg);
  --color-correct: var(--feedback-green);
  --color-incorrect: var(--feedback-red);
  --color-text: var(--connect__text-color);

  --icon-correct: url(images/icons/correct-912.svg);
  --icon-incorrect: url(images/icons/incorrect-912.svg);

  --icon-correct: url(../images/correct912.svg);
  --icon-incorrect: url(../images/incorrect912.svg);
  --icon-height: 1.5rem;
  --icon-width: 1.5rem;

  --icon-arrow: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" title="arrow-down" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill=" %23000000 " d="M4.707 7.293a1 1 0 0 0-1.414 1.414l6 6a1 1 0 0 0 1.414 0l6-6a1 1 0 0 0-1.414-1.414L10 12.586 4.707 7.293Z"/></svg>');

  --feedback-green: rgb(0, 161, 0);
  --feedback-green-bg: rgb(210, 247, 174);
  --feedback-green-border: rgb(0, 161, 0);
  --feedback-red: rgb(243, 0, 0);
  --feedback-red-bg: rgba(255, 214, 212, 1);
}

.connect__g23,
.connect__g45 {
  --shadow-correct: 0 0 0 0.125rem var(--color-correct) inset;
  --shadow-incorrect: 0 0 0 0.125rem var(--color-incorrect) inset;

  --icon-correct: url(../images/correct35.svg);
  --icon-incorrect: url(../images/incorrect35.svg);
  --icon-height: 2rem;
  --icon-width: 2rem;
}

.connect__g68 {
  --icon-height: 1.75rem;
  --icon-width: 1.75rem;
}

// Component Styles

.connect__button,
button.connect__button {
  --shadow-outer: var(--shadow-flat);
  --shadow-inner: var(--shadow-selected-trans);
  --active-color: var(--color-action-default);
  --icon-correct: url(../images/circle-tick-green.svg);
  --icon-incorrect: url(../images/circle-cross-grey.svg);
  background-color: var(--active-color);
  box-shadow: var(--shadow-outline), var(--shadow-outer), var(--shadow-inner);
  border-radius: var(--border-radius);
  border: 0.125rem solid white;
  color: white;
  cursor: pointer;
  font-family: var(--connect__font-sans);
  font-size: var(--caption);
  line-height: var(--caption-lheight);
  padding: calc(var(--connect-spacer-sm) - var(--border-width))
    calc(var(--connect-spacer-md) - var(--border-width));
  width: fit-content;

  &:not(:disabled) {
    &:hover {
      --shadow-outer: var(--shadow-hover-button);
    }
    &:active {
      --shadow-outer: var(--shadow-flat);
    }
  }

  &:focus-visible {
    --shadow-outer: var(--shadow-focus);
    outline: unset;
  }

  &-secondary {
    --shadow-inner: var(--shadow-selected);
    background-color: white;
    color: var(--active-color);

    &.connect__button-correct,
    &.connect__button-incorrect {
      background-color: white;
    }
  }

  &-correct {
    --shadow-inner: var(--shadow-correct);
    background-color: var(--color-correct-bg);
    color: var(--color-text);

    &::after {
      background: var(--icon-correct) no-repeat 0 0;
      background-size: contain;
      content: '';
      display: inline-block;
      height: calc(var(--icon-height) / 1.5);
      transform: translate(calc(var(--connect-spacer-sm) / 2), calc(var(--connect-spacer-sm) / 2));
      width: calc(var(--icon-width) / 1.5);
    }
  }

  &-incorrect {
    --shadow-inner: var(--shadow-incorrect);
    background-color: var(--color-incorrect-bg);
    color: var(--color-text);

    &::after {
      background: var(--icon-incorrect) no-repeat 0 0;
      background-size: contain;
      content: '';
      display: inline-block;
      height: calc(var(--icon-height) / 1.5);
      transform: translate(calc(var(--connect-spacer-sm) / 2), calc(var(--connect-spacer-sm) / 2));
      width: calc(var(--icon-width) / 1.5);
    }
  }

  &:disabled {
    --active-color: var(--color-action-disabled);
    color: var(--color-text-disabled);
    cursor: unset;
  }
}

.connect__button-split {
  --shadow-outer: var(--shadow-flat);
  --shadow-inner: var(--shadow-selected-trans);
  border-radius: var(--border-radius);
  border: 0.125rem solid white;
  box-shadow: var(--shadow-outline), var(--shadow-outer), var(--shadow-inner);
  position: relative;
  width: fit-content;

  &:not(:disabled) {
    &:hover {
      --shadow-outer: var(--shadow-hover-button);
    }
    &:active {
      --shadow-outer: var(--shadow-flat);
    }
  }

  &:focus-visible,
  &:focus-within {
    --shadow-outer: var(--shadow-focus);
    outline: unset;
  }

  button {
    --active-color: var(--color-action-default);
    --icon-correct: url(../images/circle-tick-green.svg);
    --icon-incorrect: url(../images/circle-cross-grey.svg);
    background-color: var(--active-color);
    border-radius: var(--border-radius) 0 0 var(--border-radius);
    color: white;
    cursor: pointer;
    border: unset;
    font-family: var(--connect__font-sans);
    font-size: var(--caption);
    line-height: var(--caption-lheight);
    padding: calc(var(--connect-spacer-sm) - var(--border-width))
      calc(var(--connect-spacer-md) - var(--border-width));

    &:nth-child(2) {
      background-color: var(--active-color);
      border-left: 0.125rem solid white;
      border-radius: 0 var(--border-radius) var(--border-radius) 0;

      svg {
        height: 1rem;
        width: 1.25rem;
      }
    }

    + ul {
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-outline), var(--shadow-outer), var(--shadow-inner);
      color: var(--color-text);
      display: block;
      font-family: var(--connect__font-sans);
      font-size: var(--caption);
      line-height: var(--caption-lheight);
      list-style-type: none;
      margin-top: calc(var(--border-width) * 2);
      padding: var(--connect-spacer-sm);
      position: absolute;
      width: calc(100% - var(--connect-spacer-md) + var(--border-width));
      z-index: 1;

      li {
        padding-bottom: var(--connect-spacer-sm);

        &:last-child {
          padding-bottom: unset;
        }
      }
    }

    &:disabled {
      --active-color: var(--color-action-disabled);
      color: var(--color-text-disabled);
      cursor: unset;
    }

    &:focus-visible {
      outline: unset;
    }
  }
}

// .source__accordion {
//     list-style: none;

//     > li {
//       padding-left: 0;
//       margin-top: var(--border-width);
//       margin-left: 0;

//       &:before {
//         content: none;
//       }
//     }

//     details {
//       margin-top: 0;

//       & > * {
//         padding-left: var(--connect-spacer-md);
//         padding-right: var(--connect-spacer-md);
//       }

//       &[open] {
//         padding-bottom: var(--connect-spacer-sm);

//         summary {
//           border-radius: var(--border-radius) var(--border-radius) 0 0;

//           &:after {
//             transform: rotate(180deg);
//           }
//         }
//       }
//     }

//     summary {
//       padding-top: var(--connect-spacer-sm);
//       padding-bottom: var(--connect-spacer-sm);
//       min-height: calc(var(--ui-button) + var(--connect-spacer-md));
//       border-radius: var(--border-radius);

//       @include body-lg;
//       list-style: none;
//       cursor: pointer;
//       // position: relative;
//       display: flex;
//       align-items: center;
//       justify-content: space-between;

//       *,
//       & + * {
//         margin-top: 0;
//       }

//       &:after {
//         width: var(--ui-button);
//         height: var(--ui-button);
//         content: "";
//         margin-left: var(--connect-spacer-md);
//         border-radius: 50%;
//         border: var(--border-width) solid var(--color-action-default);
//         background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0h20v20H0z'/%3E%3Cpath fill='%230072db' fill-rule='nonzero' d='M16 5.8c.5-.4 1.2-.4 1.7 0 .4.5.4 1.2 0 1.6l-6.9 6.8c-.4.4-1.2.4-1.6 0L2.3 7.4C2 7 2 6.3 2.3 5.8c.5-.4 1.2-.4 1.7 0l6 6 6-6z'/%3E%3C/g%3E%3C/svg%3E");
//         background-size: var(--ui-icon) var(--ui-icon);
//         background-position: center center;
//         background-repeat: no-repeat;
//         flex-shrink: 0;
//       }

//       &:before {
//         width: 100%;
//         height: 100%;
//         background: white;
//         position: absolute;
//         top: 0;
//         left: 0;
//         content: "";
//         border-radius: var(--border-radius);
//         box-shadow: var(--shadow-default);
//         z-index: -1;
//       }

//       &:hover {
//         &:before {
//           box-shadow: var(--shadow-hover);
//         }
//       }

//       &:active {
//         &:before {
//           box-shadow: var(--shadow-active);
//         }
//       }
//     }

//     &--divider {
//       summary {
//         & + * {
//           @include padding-above(0.25);
//           position: relative;

//           &:before {
//             position: absolute;
//             top: 0;
//             left: var(--connect-spacer-md);
//             width: calc(100% - var(--connect-spacer-xl));
//             height: var(--border-width);
//             content: "";
//             background: var(--color-action-disabled);
//           }
//         }
//       }
//     }

//     &--color {
//       details {
//         &[open] {
//           summary {
//             background: var(--color-action-bg);

//             & + * {
//               padding-top: var(--connect-spacer-sm);
//             }
//           }
//         }
//       }
//     }
// }

input[type='text'].connect__input,
input[type='number'].connect__input {
  --color-correct-bg: var(--feedback-green-bg);
  --color-incorrect-bg: var(--feedback-red-bg);
  --shadow-inner: var(--shadow-inner-gray);
  --shadow-outer: 0 0 0 0 rgba(0, 0, 0, 0), 0 0 0 0 rgba(0, 0, 0, 0), 0 0 0 0 rgba(0, 0, 0, 0);
  --white-border: 0px 0px 0px 2px #fff;
  --shadow-inner: 3px 4px 3px 1px rgba(0, 0, 0, 0.15) inset,
    0px 3px 2px 0px rgba(0, 0, 0, 0.3) inset;
  background-color: var(--color-action-disabled);
  box-shadow: var(--shadow-inner), var(--white-border), var(--shadow-outer);
  border-radius: var(--border-radius);
  border: 0.125rem solid rgba(41, 30, 30, 0);
  font-family: var(--connect__font-sans);
  font-size: var(--body-md);
  line-height: var(--body-md-lheight);
  padding: calc(var(--connect-spacer-sm) - var(--border-width))
    calc(var(--connect-spacer-md) - var(--border-width));

  &:not(:disabled):not(:focus) {
    &:hover {
      --shadow-outer: var(--shadow-hover-button);
    }
  }

  &:focus,
  &:active {
    background-color: var(--color-action-bg);
    //--shadow-outer: var(--shadow-focus);
    --shadow-inner: 3px 4px 3px 1px rgba(0, 105, 254, 0.15) inset,
      0px 3px 2px 0px rgba(0, 105, 254, 0.3) inset;
    outline: unset;
  }

  &:disabled {
    --shadow-inner: 0 0 0 0 rgba(0, 0, 0, 0) inset;
  }

  &-correct {
    background-color: var(--color-correct-bg);
    color: black;
  }
  &-incorrect {
    background-color: var(--color-incorrect-bg-35, var(--color-incorrect-bg));
    color: black;
  }
}

label.status:has(.connect__input-correct),
label.status:has(.connect__input-incorrect) {
  --status-icon: var(--icon-correct);
  &::after {
    background: var(--status-icon) no-repeat center left;
    background-size: contain;
    content: '';
    display: inline-block;
    height: var(--icon-width);
    width: var(--icon-height);
    transform: translate(calc(var(--icon-width) * -0.5), calc(var(--icon-width) * -0.5));
  }
}

label.status:has(.connect__input-incorrect) {
  --status-icon: var(--icon-incorrect);
}

input[type='checkbox'].connect__input,
input[type='radio'].connect__input {
  position: absolute;
  opacity: 0;

  + label {
    --shadow-outer: var(--shadow-default);
    --shadow-inner: 0 0 0 0.125rem rgba(0, 105, 254, 0) inset;
    align-items: center;
    box-shadow: var(--shadow-outline), var(--shadow-outer), var(--shadow-inner);
    background-color: white;
    display: flex;
    font-family: var(--connect__font-sans);
    font-size: var(--body-md);
    line-height: var(--body-md-lheight);
    width: 100%;
    padding: var(--connect-spacer-sm) var(--connect-spacer-md) var(--connect-spacer-sm)
      var(--connect-spacer-sm);
    border-radius: var(--border-radius);
    position: relative;
    border: 0.125rem solid white;
    // box-shadow: var(--shadow-1), var(--shadow-2), var(--shadow-3), var(--shadow-4), var(--shadow-5), var(--shadow-inset);

    &:before {
      content: '';
      width: calc(var(--connect-spacer-xl) - var(--border-width) * 2);
      height: calc(var(--connect-spacer-xl) - var(--border-width) * 2);
      background-color: white;
      margin-left: var(--connect-spacer-sm);
      margin-right: var(--connect-spacer-md);
      border-radius: calc(var(--border-radius) - var(--connect-spacer-sm));
      // border: var(--border-width) solid var(--color-action-default);
      box-shadow:
        0 0 0 var(--border-width) white,
        0 0 0 calc(var(--border-width) * 2) var(--color-action-default);
    }
  }

  &:not(:disabled) {
    + label {
      cursor: pointer;
      &:hover {
        --shadow-outer: var(--shadow-hover);
      }
      &:active {
        --shadow-outer: var(--shadow-flat);
      }
    }
  }

  &:focus-visible {
    + label {
      box-shadow: var(--shadow-focus), var(--shadow-inner);
      outline: unset;
    }
  }
  &:checked {
    + label {
      --shadow-inner: var(--shadow-selected);
      &:before {
        background-color: var(--color-action-default);
      }
    }
  }

  &:disabled {
    + label {
      --shadow-outer: var(--shadow-flat);
    }
  }

  &-correct:checked {
    + label {
      --shadow-inner: var(--shadow-correct);
      background-color: var(--color-correct-bg, white);
    }
  }
  &-incorrect:checked {
    + label {
      --shadow-inner: var(--shadow-incorrect);
      background-color: var(--color-incorrect-bg, white);
    }
  }
}

input[type='radio'].connect__input {
  + label {
    border-radius: 9999rem;
    &:before,
    &:after {
      border-radius: 50%;
    }
  }
}

.mcq {
  &.connect__input {
    + label {
      padding: var(--connect-spacer-sm) var(--connect-spacer-md);
      border-radius: var(--border-radius);
      // box-shadow: var(--shadow-default);
      // border: var(--border-width) solid transparent;
      margin-top: var(--connect-spacer-md);

      &:before,
      &:after {
        content: unset;
      }

      &:has(img) {
        padding: var(--connect-spacer-md);

        img {
          border-radius: calc(var(--border-radius) - var(--connect-spacer-sm));
        }

        &:after {
          content: unset;
        }
      }
    }

    &:checked {
      + label {
        // border-color: var(--color-action-default);
      }
    }

    &:not(:disabled) {
      + label {
        &:hover {
          // box-shadow: var(--shadow-hover);
        }
      }
    }

    &:disabled {
      + label {
        // box-shadow: unset;
        // border-color: var(--color-action-disabled);
      }
    }

    &-correct {
      + label {
        // border-color: var(--color-correct);
        padding-right: var(--connect-spacer-md);
        &::after {
          background: var(--icon-correct) no-repeat center left;
          background-size: contain;
          content: '';
          display: inline-block;
          height: var(--icon-width);
          width: var(--icon-height);
          transform: translateX(calc(var(--icon-width) / 4));
        }
      }
    }

    &-incorrect {
      + label {
        // border-color: var(--color-incorrect);
        padding-right: var(--connect-spacer-md);
        &::after {
          background: var(--icon-incorrect) no-repeat center left;
          background-size: contain;
          content: '';
          display: inline-block;
          height: var(--icon-width);
          width: var(--icon-height);
          transform: translateX(calc(var(--icon-width) / 4));
        }
      }
    }
  }
}

input[type='radio'],
input[type='checkbox'] {
  &:focus {
    outline: unset;
  }
  // &:focus-visible {
  //   + label {
  //     --focus-indicator: 0px 0px 0px 1px #fff, 0px 0px 0px 3px #ca0092, 0 0 0 4px #fff;
  //     box-shadow: var(--focus-indicator);
  //   }
  // }
}

.connect__card {
  --shadow-outer: var(--shadow-default);
  background: white;
  border: var(--border-width) solid white;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-outline), var(--shadow-outer);
  display: grid;
  font-family: var(--connect__font-sans);
  font-size: var(--body-md);
  grid-template-columns: repeat(12, 1fr);
  gap: var(--connect-spacer-md);
  //max-width: 25vw;
  margin: var(--connect-spacer-md);

  & > * + * {
    margin-top: var(--connect-spacer-md);
  }

  figure,
  header,
  .content,
  footer {
    margin: var(--connect-spacer-md) var(--connect-spacer-sm) 0;
    grid-column: 1 / -1;
    &:empty {
      margin: unset;
    }
    &:last-child {
      margin-bottom: var(--connect-spacer-md);
    }
  }

  figure {
    margin: var(--connect-spacer-sm);
    img {
      height: 100;
      width: 100%;
      object-fit: cover;
    }

    figcaption {
      margin-top: var(--connect-spacer-sm);
    }
    + header {
      margin-top: unset;
    }
  }

  header {
    h2,
    h3,
    h4 {
      font-size: var(--heading-sm);
      margin: 0;
    }
  }

  .content {
    & > * + * {
      margin: 0;
      margin-top: var(--connect-spacer-md);
    }
  }

  footer {
  }
}

// .source__flipcards, .source__reveal {
//   --flipcard-height: calc(var(--connect-spacer-xl) * 10);
//   list-style: none;
//   grid-column: 1 / span 12;
//   display: flex;
//   flex-wrap: wrap;
//   justify-content: center;
//   margin: 0 !important;

//   li {
//     padding: 0;
//     @include margin-above(1);
//     margin-left: 0;
//     margin-right: 0;
//     flex-basis: 100%;

//     @include respond-md {
//       flex-basis: calc(50% - var(--connect-spacer-xl));
//       margin-left: var(--connect-spacer-md);
//       margin-right: var(--connect-spacer-md);
//     }

//     @include respond-lg {
//       flex-basis: calc(33.3333% - var(--connect-spacer-xl));
//     }

//     &:before {
//       content: unset;
//     }
//   }

//   details {
//     height: var(--flipcard-height);
//     perspective: 1000px;
//     position: relative;
//     padding: 0;
//     margin: 0;
//     border: 0;

//     &[open] {
//       .source__flipcards__front {
//         transform: rotateY(180deg);
//         pointer-events: none;
//       }

//       // .source__flipcards__back {
//       //   animation: back-rotate 0.75s cubic-bezier(0.52, 0.02, 0.28, 1) forwards;
//       // }

//       summary:before {
//         transform: rotateY(360deg);
//         transition: transform 0.75s cubic-bezier(0.52, 0.02, 0.28, 1),
//           box-shadow 0.2s cubic-bezier(0.52, 0.02, 0.28, 1);
//         pointer-events: none;
//         background: unset;
//       }
//     }
//   }

//   summary:focus {
//     outline: 0;
//   }

//   summary:before {
//       content: '';
//   }

//   .source__flipcards__front,
//   .source__flipcards__back,
//   summary:before {
//     position: absolute;
//     width: 100%;
//     height: var(--flipcard-height);
//     left: 0;
//     padding: var(--connect-spacer-md);
//     backface-visibility: hidden;
//     -webkit-backface-visibility: hidden;
//     box-shadow: var(--shadow-default);
//     transition: transform 0.75s cubic-bezier(0.52, 0.02, 0.28, 1),
//       box-shadow 0.2s cubic-bezier(0.52, 0.02, 0.28, 1);
//     margin: 0;
//     background: white;
//     border-radius: var(--border-radius);
//   }

//   .source__flipcards__front,
//   summary:before {
//     bottom: 0;
//     left: 0;
//   }

//   summary {
//     list-style: none;
//     position: absolute;
//     width: 100%;
//     height: var(--ui-button);
//     background: transparent;
//     bottom: 0;
//     left: 0;
//     transform-style: preserve-3d;
//     z-index: 100;
//     cursor: pointer;

//     &:hover {
//       .source__flipcards__front,
//       &:before {
//         box-shadow: var(--shadow-hover);
//       }
//     }
//   }

//   summary:before {
//     background: linear-gradient(180deg, rgba(0,114,219,0) 0%, rgba(0,114,219,0) calc(100% - var(--ui-button)), var(--color-action-default) calc(100% - var(--ui-button)), var(--color-action-default) 100%);
//     background-size: 100% 100%;
//     transform: rotateY(180deg);
//     // transition: transform 0.75s cubic-bezier(0.52, 0.02, 0.28, 1);
//   }

//   .source__flipcards__front {
//     overflow: hidden;
//     padding: var(--connect-spacer-md) var(--connect-spacer-md) var(--ui-button);

//     &:before {
//       content: "";
//       width: 100%;
//       height: var(--ui-button);
//       bottom: 0;
//       left: 0;
//       position: absolute;
//       background-size: var(--ui-icon);
//       background-position: var(--connect-spacer-sm) center;
//       background-repeat: no-repeat;
//       background-color: white;
//       transform: scaleX(-1);
//       @include source__icon--color('flip', '#0072db');
//     }
//   }

//   .source__flipcards__back {
//     overflow-y: auto;
//     transform: rotateY(180deg);
//     transform-style: preserve-3d;
//     animation: unset;
//     width: 100%;
//     height: 100%;
//     z-index: 99;
//     background: white;
//     border-radius: var(--border-radius);
//     padding: 0;
//     display: grid;
//     box-shadow: unset;

//     &:after {
//       position: sticky;
//       content: "";
//       width: 100%;
//       height: var(--ui-button);
//       bottom: 0;
//       left: 0;
//       background-size: var(--ui-icon);
//       background-position: var(--connect-spacer-sm) center;
//       background-repeat: no-repeat;
//       background-color: var(--color-action-default);
//       transform: scaleX(-1);
//       @include source__icon--color('flip', '#fff');
//       align-self: end;
//     }

//     > * {
//       &:last-child {
//         margin-bottom: 0;
//         padding-bottom: var(--connect-spacer-sm);
//       }
//     }

//     * {
//       @include body-sm;
//     }
//   }

//   .source__flipcards__back > * {
//     margin: var(--connect-spacer-sm) var(--connect-spacer-md) 0;
//     grid-column: 1;

//     &:first-child {
//       margin-top: var(--connect-spacer-md);
//     }
//   }

//   // Four-wide cards

//   &--four {
//     @include respond-xl {
//       li {
//         flex-basis: calc(25% - var(--connect-spacer-xl));
//       }
//     }
//   }

//   // Add Counter to front of card

//   &--counter {
//     counter-reset: cards;

//     li {
//       counter-increment: cards;
//     }

//     details {
//       .source__flipcards__front {
//         &:after {
//           position: absolute;
//           height: var(--ui-button);
//           bottom: 0;
//           left: var(--connect-spacer-sm);
//           content: counter(cards);
//           @include caption;
//           text-align: center;
//           display: flex;
//           justify-content: center;
//           align-items: center;
//         }
//       }
//     }
//   }

//   // Sequenced cards
//   .source__flipcards--sequenced {
//     li:not(:has(details[open])):not(:has( ~ li details[open])) ~ li details {
//       pointer-events: none;
//       opacity: 0.5;
//       filter: grayscale(1)
//     }
//   }
// }

.connect__select,
select.connect__select {
  --active-color: var(--color-action-default);
  --icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" title="arrow-down" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill=" %23FFFFFF " d="M4.707 7.293a1 1 0 0 0-1.414 1.414l6 6a1 1 0 0 0 1.414 0l6-6a1 1 0 0 0-1.414-1.414L10 12.586 4.707 7.293Z"/></svg>');
  width: fit-content;
  border-radius: var(--border-radius);
  border: var(--border-width) solid var(--active-color);
  font-size: var(--caption);
  line-height: var(--caption-lheight);
  padding: calc(var(--connect-spacer-sm) - var(--border-width))
    calc(var(--connect-spacer-xl) + var(--connect-spacer-md) + var(--border-width))
    calc(var(--connect-spacer-sm) - var(--border-width))
    calc(var(--connect-spacer-md) - var(--border-width));
  background: var(--icon),
    linear-gradient(
      90deg,
      rgba(0, 114, 219, 0) 0%,
      rgba(0, 114, 219, 0) calc(100% - var(--border-width) * 2 - var(--connect-spacer-xl)),
      var(--active-color) calc(100% - var(--border-width) * 2 - var(--connect-spacer-xl)),
      var(--active-color) 100%
    );
  background-size:
    var(--icon-width) var(--icon-width),
    100% 100%;
  background-position:
    calc(100% - (var(--icon-width) - var(--icon-width)) / 2 - var(--border-width)) center,
    top left;
  background-repeat: no-repeat;
  box-shadow: var(--shadow-default);
  appearance: none;

  &:not(:disabled) {
    cursor: pointer;
    &:hover {
      box-shadow: var(--shadow-hover);
    }
  }

  &:disabled {
    --active-color: var(--color-action-disabled);
    box-shadow: unset;
    opacity: 1;
    color: var(--color-action-disabled);
  }

  &-correct {
    --active-color: var(--color-correct);
    --icon: url("data:image/svg+xml,%3Csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.828 2 18 4.194c-2.283 2.307-5.216 6.254-8.765 11.818L7.967 18l-1.3-1.967c-1.364-2.065-2.92-3.498-4.667-4.33l1.31-2.807c1.683.802 3.197 2 4.542 3.583C10.982 7.705 13.633 4.217 15.828 2Z' fill='%23fff'/%3E%3C/svg%3E");
    color: var(--color-text);
  }

  &-incorrect {
    --active-color: var(--color-incorrect);
    --icon: url("data:image/svg+xml,%3Csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m14 14.484-2.186 1.75c-.62-.775-1.43-2.042-2.436-3.813L4.98 16.82 3 14.839l4.973-4.973a236.42 236.42 0 0 1-2.889-5.613L7.59 3a249.365 249.365 0 0 0 2.455 4.794l4.689-4.689 1.98 1.98-5.279 5.28c1.11 1.995 1.97 3.373 2.567 4.12Z' fill='%23fff'/%3E%3C/svg%3E");
    color: var(--color-text);
  }
}

// .drag {
//   --icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none'%3E%3Cpath fill='%232D2D2D' d='M15 9h-4V5h2l-3-3-3 3h2v4H5V7l-3 3 3 3v-2h4v4H7l3 3 3-3h-2v-4h4v2l3-3-3-3v2Z'/%3E%3C/svg%3E");
//   background-color: white;
//   box-shadow: var(--shadow-default);
//   color: var(--color-text);
//   position: relative;
//   padding-bottom: calc(var(--ui-button) - var(--border-width));
//   cursor: grab;

//   &:active {
//     cursor: grabbing;
//     box-shadow: var(--shadow-active);
//   }

//   &:disabled {
//     box-shadow: unset;
//     border-color: var(--color-action-disabled);
//     color: var(--color-action-disabled);
//     --icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none'%3E%3Cpath fill='%23dcdcdc' d='M15 9h-4V5h2l-3-3-3 3h2v4H5V7l-3 3 3 3v-2h4v4H7l3 3 3-3h-2v-4h4v2l3-3-3-3v2Z'/%3E%3C/svg%3E");

//     &:hover, &:active {
//       cursor: unset;
//     }
//   }

//   &.correct {
//     border-color: var(--color-correct);
//     color: var(--color-text);
//     --icon: url("data:image/svg+xml,%3Csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.828 2 18 4.194c-2.283 2.307-5.216 6.254-8.765 11.818L7.967 18l-1.3-1.967c-1.364-2.065-2.92-3.498-4.667-4.33l1.31-2.807c1.683.802 3.197 2 4.542 3.583C10.982 7.705 13.633 4.217 15.828 2Z' fill='%23008000'/%3E%3C/svg%3E");
//   }

//   &.incorrect {
//     border-color: var(--color-incorrect);
//     color: var(--color-text);
//     --icon: url("data:image/svg+xml,%3Csvg width='20' height='20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m14 14.484-2.186 1.75c-.62-.775-1.43-2.042-2.436-3.813L4.98 16.82 3 14.839l4.973-4.973a236.42 236.42 0 0 1-2.889-5.613L7.59 3a249.365 249.365 0 0 0 2.455 4.794l4.689-4.689 1.98 1.98-5.279 5.28c1.11 1.995 1.97 3.373 2.567 4.12Z' fill='%23e60000'/%3E%3C/svg%3E");
//   }

//   &:before {
//     position: absolute;
//     content: '';
//     bottom: 0;
//     left: calc(50% - var(--ui-button) / 2);
//     width: var(--ui-button);
//     height: var(--ui-button);
//     background-image: var(--icon);
//     background-size: var(--ui-icon);
//     background-position: center center;
//     background-repeat: no-repeat;
//   }
// }

// .drop {
//   width: fit-content;
//   height: calc(var(--connect-spacer-sm) + var(--caption-lheight) + var(--ui-button) + var(--connect-spacer-sm) * 2);
//   border-radius: calc(var(--border-radius) + var(--connect-spacer-sm));
//   box-shadow: inset 0px 0.0625rem 0.125rem 0px rgba(0, 0, 0, 0.3), inset 0px 0.0625rem 0.1875rem 0.0625rem rgba(0, 0, 0, 0.15);
//   position: relative;
//   padding: var(--connect-spacer-sm);

//   &:before {
//     content: '';
//     position: absolute;
//     top: var(--connect-spacer-sm);
//     left: var(--connect-spacer-sm);
//     width: calc(100% - var(--connect-spacer-sm) * 2);
//     height: calc(100% - var(--connect-spacer-sm) * 2);
//     border-radius: var(--border-radius);
//     border: var(--border-width) dashed var(--color-action-disabled);
//   }

//   // to be removed
//   button {
//     visibility: hidden;
//   }
//   // end removal
// }

// .tray {
//   width: 100%;
//   border-radius: calc(var(--border-radius) + var(--connect-spacer-sm));
//   box-shadow: inset 0px 0.0625rem 0.125rem 0px rgba(0, 0, 0, 0.3), inset 0px 0.0625rem 0.1875rem 0.0625rem rgba(0, 0, 0, 0.15);
//   position: relative;
//   padding: var(--connect-spacer-xs);
//   display: flex;
//   flex-wrap: wrap;
//   justify-content: center;

//   button {
//     margin: var(--connect-spacer-xs);
//   }
// }

// .source__reveal {
//   details {
//       --flipcard-height: calc(var(--base-lheight) + var(--half-lheight));
//       background: white;
//       border-radius: var(--border-radius);
//       box-shadow: var(--shadow-default);
//       // overflow: hidden;
//       transition: box-shadow 0.1s cubic-bezier(0.52, 0.02, 0.28, 1);

//       &:hover {
//           box-shadow: var(--shadow-hover);
//       }

//       &[open] {
//           box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.15), 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 0px 4px rgba(0, 0, 0, 0.15);

//           summary {
//               background-image: unset;
//           }

//           .source__flipcards__front, .source__flipcards__back {
//               transition: unset;
//               animation: unset;
//           }

//           .source__flipcards__back {
//               transform: rotateY(0deg);
//           }
//       }
//   }

//   summary {
//       width: 100%;
//       height: 100%;
//       border-radius: var(--border-radius);
//       left: unset;
//       bottom: 0;
//       right: 0;
//       background: url(images/reveal.svg);
//       background-size: calc(var(--half-lheight) + var(--quart-lheight));
//       background-position: center center;
//       background-repeat: no-repeat;

//       &:hover {
//           .source__flipcards__front, .source__flipcards__back {
//               box-shadow: unset;
//           }
//       }

//       &:before {
//           content: unset;
//       }
//   }

//   .source__flipcards__back-visuals {
//       display: none;
//   }

//   .source__flipcards__front, .source__flipcards__back {
//       background: unset;
//       box-shadow: unset;
//       transition: unset;
//       animation: unset;
//       padding: var(--quart-lheight) var(--half-lheight);

//       &:before, &:after {
//           content: unset;
//       }
//   }

//   .source__flipcards__front {
//       right: 0;
//       bottom: 0;
//         left: 0;
//       padding: var(--quart-lheight) var(--half-lheight);
//       opacity: 0;
//       pointer-events: none
//   }

//   .source__flipcards__back {
//       display: flex;
//       align-items: center;
//       justify-content: center;

//       > *:first-child {
//           margin-top: 0;
//       }

//       > *:last-child {
//         padding-bottom: 0;
//       }

//       > * {
//           margin: 0;
//           @include body-md;
//           text-align: center;
//       }
//   }
// }

section.connect__grid {
  --default-grid-gap: var(--connect-spacer-xl);
  -webkit-font-smoothing: antialiased;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--default-grid-gap);
  display: grid;
  width: 100%;
  grid-template-rows: max-content;
  grid-auto-rows: auto;
  align-content: start;

  &.connect__grid-gutter {
    padding: calc(var(--connect-spacer-xl) * 2) var(--gutter-width);
  }
}

.connect__grid-item {
  grid-column: var(--start-col, 1) / span var(--span-col, 12);
  grid-row: var(--xs-row-span, auto);
}

@media (min-width: 480px) {
  .connect-sm {
    grid-column: var(--sm-start-col) / span var(--sm-span-col);
    grid-row: var(--sm-row-span, auto);
  }
}

@media (min-width: 650px) {
  .connect-md {
    grid-column: var(--md-start-col) / span var(--md-span-col);
    grid-row: var(--md-row-span, auto);
  }
}

@media (min-width: 880px) {
  .connect-lg {
    grid-column: var(--lg-start-col) / span var(--lg-span-col);
    grid-row: var(--lg-row-span, auto);
  }
}

@media (min-width: 1280px) {
  .connect-xl {
    grid-column: var(--xl-start-col) / span var(--xl-span-col);
    grid-row: var(--xl-row-span, auto);
  }
}

.connect__stack {
  --connect-stack-spacing: var(--xs-spacing);
  --connect-stack-direction: var(--xs-direction);
  --connect-stack-align: var(--xs-alignItems);
  --connect-stack-wrap: var(--xs-flexWrap);
  --connect-justify-content: var(--xs-justifyContent);

  align-items: var(--xs-alignItems, start);
  display: flex;
  flex-flow: var(--connect-stack-direction, column);
  flex-wrap: var(--connect-stack-wrap, wrap);
  gap: var(--connect-spacer-sm, var(--connect-stack-spacing));
  justify-content: var(--connect-justify-content, start);
  width: 100%;

  @media (min-width: 30rem) {
    &.stack-sm {
      --connect-stack-spacing: var(--sm-spacing);
      --connect-stack-direction: var(--sm-direction);
      --connect-stack-align: var(--sm-alignItems);
      --connect-stack-wrap: var(--sm-flexWrap);
      --connect-justify-content: var(--sm-justifyContent);
    }
  }

  @media (min-width: 40.625rem) {
    &.stack-md {
      --connect-stack-spacing: var(--md-spacing);
      --connect-stack-direction: var(--md-direction);
      --connect-stack-align: var(--md-alignItems);
      --connect-stack-wrap: var(--md-flexWrap);
      --connect-justify-content: var(--md-justifyContent);
    }
  }

  @media (min-width: 55rem) {
    &.stack-lg {
      --connect-stack-spacing: var(--lg-spacing);
      --connect-stack-direction: var(--lg-direction);
      --connect-stack-align: var(--lg-alignItems);
      --connect-stack-wrap: var(--lg-flexWrap);
      --connect-justify-content: var(--lg-justifyContent);
    }
  }

  @media (min-width: 80rem) {
    &.stack-xl {
      --connect-stack-spacing: var(--xl-spacing);
      --connect-stack-direction: var(--xl-direction);
      --connect-stack-align: var(--xl-alignItems);
      --connect-stack-wrap: var(--xl-flexWrap);
      --connect-justify-content: var(--xl-justifyContent);
    }
  }
}
